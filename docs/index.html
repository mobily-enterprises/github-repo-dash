<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta http-equiv="Content-Security-Policy" content="default-src 'self'; img-src 'self' data:; script-src 'self'; style-src 'self' https://fonts.googleapis.com; font-src https://fonts.gstatic.com; connect-src 'self' https://api.github.com https://fonts.googleapis.com https://fonts.gstatic.com; object-src 'none'; base-uri 'self';" />
  <title>Developer's Dashboard · Repo Triage</title>
  <link rel="icon" href="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 64 64'%3E%3Cdefs%3E%3ClinearGradient id='g' x1='0%25' y1='0%25' x2='100%25' y2='100%25'%3E%3Cstop stop-color='%234de1d3' offset='0%25'/%3E%3Cstop stop-color='%23f36565' offset='100%25'/%3E%3C/linearGradient%3E%3C/defs%3E%3Crect rx='12' ry='12' x='4' y='4' width='56' height='56' fill='%2311192f' stroke='%234de1d3' stroke-width='3'/%3E%3Cpath d='M18 20h28v5H18zm0 10h18v5H18zm0 10h12v5H18z' fill='url(%23g)'/%3E%3C/svg%3E">
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Space+Grotesk:wght@400;500;600&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="style.css" />
</head>
<body>
  <div class="page">
    <header>
      <div class="title">
        <div class="pill-row">
          <span class="pill">Developer's Dashboard</span>
        </div>
        <h1 id="repo-title">Repository triage snapshot</h1>
        <p>Live counts and recent items for the core searches. Adjust the repo or the DRI token if you want to reuse this
          for another project.</p>
      </div>
      <div class="controls">
        <div class="control-row">
          <label>Repository
            <input id="repo" type="text" placeholder="owner/repo" aria-label="Repository" />
          </label>
          <label>Your handle
            <input id="handle" type="text" value="@me" aria-label="Handle" />
          </label>
          <label title="Optional; stored on this device (localStorage)">
            <span class="label-title">GitHub token <span class="help-icon" aria-label="Stored on this device (localStorage); clear manually if needed" title="Stored on this device (localStorage). Clear manually if needed.">?</span></span>
            <div class="token-input-row">
              <input id="token" type="password" placeholder="ghp_xxx" aria-label="GitHub token" />
              <button id="clear-token" class="mini-btn icon-btn" type="button" aria-label="Clear token">×</button>
            </div>
          </label>
        </div>
        <details class="advanced">
          <summary>Advanced (DRI token &amp; coder flags)</summary>
          <div class="advanced-grid">
            <label>DRI text in PR body/label
              <input id="dri" type="text" value="DRI:@" aria-label="DRI token" />
            </label>
            <label>Coder flag in body
              <input id="coder-body-flag" type="text" value="coder" aria-label="Coder flag in body" />
            </label>
            <label>Coder flag in labels
              <input id="coder-label-flag" type="text" value="DRI_is_coder" aria-label="Coder flag in labels" />
            </label>
          </div>
        </details>
      </div>
    </header>

    <section>
      <div class="section-header">
        <h2>Your pull requests</h2>
        <div class="actions">
          <button id="load-pulls">Load</button>
          <div id="status-pulls" class="status" aria-live="polite">Not loaded</div>
        </div>
      </div>
      <div class="grid" id="prs-grid"></div>
    </section>

    <section>
      <div class="section-header">
        <h2>PR assigning and triaging</h2>
        <div class="actions">
          <button id="load-triage">Load</button>
          <div id="status-triage" class="status" aria-live="polite">Not loaded</div>
        </div>
      </div>
      <div class="grid priority-grid" id="triage-priority-grid"></div>
      <div class="grid" id="triage-grid"></div>
    </section>

    <section>
      <div class="section-header">
        <h2>Issues</h2>
        <div class="actions">
          <button id="load-issues">Load</button>
          <div id="status-issues" class="status" aria-live="polite">Not loaded</div>
        </div>
      </div>
      <div class="grid" id="issues-grid"></div>
    </section>
  </div>

  <script src="app.js" defer></script>
</body>
</html>
